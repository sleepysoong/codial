# OpenCode Session Guide

이 문서는 OpenCode가 세션 compact 이후에도 동일한 작업 원칙을 유지하도록 돕는 고정 지침이에요.

## 응답 방식

- 항상 한국어로 답변해요.
- 문체는 존댓말 "~해요" 체를 사용해요.
- 불필요한 확인 질문은 줄이고, 합리적인 기본값으로 먼저 진행해요.

## 아키텍처 고정 원칙

- 서비스는 2개 서버 구조를 유지해요.
  - `discord-gateway`: Discord 이벤트/명령/채널 처리
  - `agent-core-api`: 세션 오케스트레이션/프로바이더/MCP/정책 처리
- 세션은 Discord 채널 단위로 분리해요.

## 프로바이더 운영 원칙

- 코드 구조는 멀티 프로바이더 확장 가능하게 유지해요.
- 현재 운영 프로바이더는 `github-copilot-sdk`만 사용해요.

## 구현 품질 원칙

- 안정성을 성능보다 우선해요.
- 비동기 처리와 예외 처리를 엄격하게 적용해요.
- 린트/타입/테스트 기준을 엄격하게 유지해요.
  - `ruff`
  - `mypy` (strict)
  - `pytest`

## 표준 준수 원칙

- 자체 규격보다 Claude Code/MCP 공식 규격을 우선해요.
- Skills/Subagents/Hooks/MCP 동작은 공식 문서와 최대한 정합성을 맞춰요.

## 작업 운영 원칙

- 변경 사항은 작은 단위로 명확하게 설명하고 검증 결과를 함께 남겨요.
- 가능하면 변경 직후 커밋/푸시 흐름을 유지해요.
